<div id="fordcar_widget_ID" class="eqLogic-widget eqLogic noResize fordcar_widget fordcar" style="width: 900px; height: 740px; text-align:center; border:#border#; border-radius:#border-radius#; background-color:#background-color#; color:#color#; #style#;" data-eqType="#eqType#" data-translate-category="#translate_category#" data-category="#category#" data-tags="#tags#" data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="dashboard">
	
	<center class="widget-name" style="padding-right: 0px;">
		<span class="object_name" style="font-size:1.1em ;display:none;">#object_name#</span>
		<a href="#eqLink#" style="font-size:1.1em ;#hideEqLogicName#">#name_display#</a>
		<span class="cmd refresh pull-right cursor" data-cmd_id="#refresh_id#" title="Rafraichir" onclick="jeedom.cmd.execute({id: #refresh_id#});"><i class="fas fa-sync"></i></span>
	</center>
	
	<div class="container-fluid">
		
		<div class="row">
			
			<div class="col-sm-6">
		
				<div class="row" id="picture">
					<img id="img_car#id#" src="" style="height:150px" />
				</div>
				
				<div class="row">
					<div class="col-sm-6"><span class="label" style="font-weight: bold">Véhicule</span></div>
					<div class="col-sm-6"><span class="label" style="font-weight: bold">Kilométrage</span></div>
				</div>
				
				<div class="row" id="infos">
					<div class="col-sm-6"><span class="state"><i class="Cmd#etat_id#"></i></span></div>
					<div class="col-sm-6"><span class="Cmd#km_id# iconCmd"></span></div>
				</div>
				
				<hr class="cmdName">
				
				<div class="row" id="engine">
					<div id="electric_engine#id#" class="col-sm-6" style="width:225px; height:130px;">
						<i class="fa-2x fas fa-charging-station"></i><span class="label cmdName" style="font-weight: bold">Moteur électrique</span>
						</br></br>
						<div class="row label"><i class="fa-xl fas fa-map-pin"></i><span class="Cmd#beRemainingRangeElectric_id#"></span></div></br>
						<div class="row label"><i class="fa-xl fas fa-car-battery"></i><span class="Cmd#chargingLevelHv_id#"></span></div></br>
						<div class="row label"><i class="fa-xl fas fa-plug"></i><span class="Cmd#connectorStatus_id#"></span></div></br>
						<div class="row label"><i class="fa-xl fas fa-charging-station"></i><span class="Cmd#chargingStatus_id#"></span></div>
					</div>
					<div id="combustion_engine#id#" class="col-sm-6" style="width:225px; height:130px;">
						<i class="fa-2x fas fa-gas-pump"></i><span class="label cmdName" style="font-weight: bold">Moteur thermique</span>
						</br></br>
						<div class="row label"><i class="fa-xl fas fa-map-pin"></i><span class="Cmd#kmfuel_id#"></span></div></br>
						<div class="row label"><i class="fa-xl fas fa-gas-pump"></i><span class="Cmd#qfuel_id#"></span></div>
					</div>
				</div>
				
				<hr class="cmdName">
				
				<span class="label cmdName" style="font-weight: bold">Portes & Fenêtres</span>
				</br>
				<div class="row" id="doors_windows">
			
					<div class="row">
						<div class="col-sm-3">
							</br>
							<div class="label pull-left" style="margin-left: 30px">Porte : <i class="Cmd#doorcd_id#"></i></div>
							</br>
							<div class="label pull-left" style="margin-left: 30px">Fenêtre : <i class="Cmd#vicdav_id#"></i></div>
							</br></br></br>
							<div class="label pull-left" style="margin-left: 30px">Porte : <i class="Cmd#doorleft_id#"></i></div>
							</br>
							<div class="label pull-left" style="margin-left: 30px">Fenêtre : <i class="Cmd#vicdar_id#"></i></div>
						</div>
						<div class="col-sm-6">
							<img src="plugins/fordcar/core/img/widget_car.png" height="150" width="150" />
						</div>
						<div class="col-sm-3">
							</br>
							<div class="label pull-left" style="margin-left: -30px">Porte : <i class="Cmd#doorps_id#"></i></div>
							</br>
							<div class="label pull-left" style="margin-left: -30px">Fenêtre : <i class="Cmd#vipsav_id#"></i></div>
							</br></br></br>
							<div class="label pull-left" style="margin-left: -30px">Porte : <i class="Cmd#doorright_id#"></i></div>
							</br>
							<div class="label pull-left" style="margin-left: -30px">Fenêtre : <i class="Cmd#vipsar_id#"></i></div>
						</div>
					</div>
					</br>
					<div class="row"><span class="label pull-center">Toit ouvrant : <i class="Cmd#moonroof_state_id#"></i></span></div>
					<div class="row"><span class="label pull-center">Coffre : <i class="Cmd#hood_id#"></i></span></div>				
				</div>
			</div>
			
			<div class="col-sm-6">

				<span class="label cmdName" style="font-weight: bold">Actions</span>
				<div class="row" id="actions">
					<!-- <button class="btn cmd action" data-cmd_id="#refresh_id#" title="Rafraichir" onclick="jeedom.cmd.execute({id: #refresh_id#});"><i class="fa-2x icon jeedomapp-reload"></i></button> -->
					<button class="btn cmd action" data-cmd_id="#doorLock_id#" title="Verrouiller" onclick="jeedom.cmd.execute({id: #doorLock_id#});"><i class="fa-2x icon fas fa-lock"></i></button>
					<button class="btn cmd action" data-cmd_id="#doorUnlock_id#" title="Déverrouiller" onclick="jeedom.cmd.execute({id: #doorUnlock_id#});"><i class="fa-2x icon fas fa-lock-open"></i></button>
					<!-- <button id="charge_btn#id#" class="btn cmd action" data-cmd_id="#chargeNow_id#" title="Charger" onclick="jeedom.cmd.execute({id: #chargeNow_id#});"><i class="fa-2x icon fas fa-plug"></i></button> -->
					<!--<button class="btn cmd action" data-cmd_id="#sendPOI_id#" title="Envoi POI"><i class="fa-2x icon fas fa-map-marker-alt"></i></button>-->
				</div>

				<hr class="cmdName">
				<!--
				<span class="label cmdName" style="font-weight: bold">Localisation</span>
				<div class="row" id="location">
					<iframe id="myFrame#id#" src="https://maps.google.com/maps?hl=fr&ie=utf8&output=embed&q=#gps_coordinates#" width="380" height="239" frameborder="0" style="border:0"></iframe>
				</div>
-->
				<hr class="cmdName">


			</div>
			
		</div>
		
		<div class="row">
			<div class="label pull-center">Dernière connexion avec le véhicule : <span class="Cmd#last_id# state"></span></div>
		</div>
	
	</div>
	
	<script>
        
        if ('#vehicle_type#id##' == 'electrique' )  {
			$('#combustion_engine#id#').hide();
			$('#electric_engine#id#').width("450px");
		}
       
        if ('#vehicle_type#id##' == 'thermique') {
            $('#charge_btn#id#').hide();
            $('#electric_engine#id#').hide();
            $('#combustion_engine#id#').width("450px");
        }
		
		/*jeedom.cmd.update['#id#'] =function(_options) {
            var cmd  = $('#myFrame#id#')[0];
			cmd.src = "https://maps.google.com/maps?hl=fr&ie=utf8&output=embed&q="+_options.display_value;
		}
		jeedom.cmd.update['#id#']({display_value: '#gps_coordinates#'});
		*/
		
		jeedom.cmd.update['#id#'] =function(_options) {
            var cmd2  = $('#img_car#id#')[0];
			cmd2.src = "plugins/fordcar/data/"+_options.display_value+".png";
		}
		jeedom.cmd.update['#id#']({display_value: '#vin#id##'});
				
				
		jeedom.cmd.update['#etat_id#'] = function(_options) {
            
			if (_options.display_value == "LOCKED") {
				$('.Cmd#etat_id#').empty().append('<i class="fa-2x icon_green fas fa-lock"></i>');
			}
			else {
                    $('.Cmd#etat_id#').empty().append('<i class="fa-2x icon_red fas fa-lock-open"></i>');
            }
        }
		jeedom.cmd.update['#etat_id#']({display_value:'#etat#'});
      	
		
		jeedom.cmd.update['#doorcd_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#doorcd_id#').empty().append('<i class="icon_red jeedom-porte-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#doorcd_id#').empty().append('<i class="icon_green jeedom-porte-ferme"></i>');
			}
			else {
              	$('.Cmd#doorcd_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#doorcd_id#']({display_value:'#doorcd#'});
		
		
		jeedom.cmd.update['#doorleft_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#doorleft_id#').empty().append('<i class="icon_red jeedom-porte-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#doorleft_id#').empty().append('<i class="icon_green jeedom-porte-ferme"></i>');
            } else {
              	$('.Cmd#doorleft_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#doorleft_id#']({display_value:'#doorleft#'});
		
		
		jeedom.cmd.update['#doorps_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#doorps_id#').empty().append('<i class="icon_red jeedom-porte-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#doorps_id#').empty().append('<i class="icon_green jeedom-porte-ferme"></i>');
			}
			else {
              	$('.Cmd#doorps_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#doorps_id#']({display_value:'#doorps#'});
		
		
		jeedom.cmd.update['#doorright_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#doorright_id#').empty().append('<i class="icon_red jeedom-porte-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#doorright_id#').empty().append('<i class="icon_green jeedom-porte-ferme"></i>');
			}
			else {
              	$('.Cmd#doorright_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#doorright_id#']({display_value:'#doorright#'});
		
		
		jeedom.cmd.update['#vicdav_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#vicdav_id#').empty().append('<i class="icon_red jeedom-fenetre-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#vicdav_id#').empty().append('<i class="icon_green jeedom-fenetre-ferme"></i>');
			}
			else {
              	$('.Cmd#vicdav_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#vicdav_id#']({display_value:'#vicdav#'});
		
		
		jeedom.cmd.update['#vicdar_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#vicdar_id#').empty().append('<i class="icon_red jeedom-fenetre-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#vicdar_id#').empty().append('<i class="icon_green jeedom-fenetre-ferme"></i>');
			}
			else {
              	$('.Cmd#vicdar_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#vicdar_id#']({display_value:'#vicdar#'});
		
		
		jeedom.cmd.update['#vipsav_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#vipsav_id#').empty().append('<i class="icon_red jeedom-fenetre-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#vipsav_id#').empty().append('<i class="icon_green jeedom-fenetre-ferme"></i>');
			}
			else {
              	$('.Cmd#vipsav_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#vipsav_id#']({display_value:'#vipsav#'});
		
		
		jeedom.cmd.update['#vipsar_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#vipsar_id#').empty().append('<i class="icon_red jeedom-fenetre-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#vipsar_id#').empty().append('<i class="icon_green jeedom-fenetre-ferme"></i>');
			}
			else {
              	$('.Cmd#vipsar_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#vipsar_id#']({display_value:'#vipsar#'});
				
      
		jeedom.cmd.update['#hood_id#'] = function(_options) {
            if ( _options.display_value == "Open")  {
            	$('.Cmd#hood_id#').empty().append('<i class="icon_red jeedom-porte-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
              	$('.Cmd#hood_id#').empty().append('<i class="icon_green jeedom-porte-ferme"></i>');
			}
			else {
              	$('.Cmd#hood_id#').empty().append('<i class="fas fa-ban"></i>');
            }
		}
		jeedom.cmd.update['#hood_id#']({display_value:'#hood#'});

        jeedom.cmd.update['#moonroof_state_id#'] = function (_options) {
            if (_options.display_value == "Open") {
                $('.Cmd#moonroof_state_id#').empty().append('<i class="icon_red jeedom-porte-ouverte"></i>');
			}
			else if (_options.display_value == "Closed") {
                $('.Cmd#moonroof_state_id#').empty().append('<i class="icon_green jeedom-porte-ferme"></i>');
			}
			else {
                $('.Cmd#moonroof_state_id#').empty().append('<i class="fas fa-ban"></i>');
            }
        }
        jeedom.cmd.update['#moonroof_state_id#']({display_value: '#moonroof_state#'});
		
		jeedom.cmd.update['#km_id#'] = function(_options) {
           	if ( _options.display_value == "0")  {
			 $('.Cmd#km_id#').empty().append('<i class="fa-2x fas fa-ban"></i>');
			}
			else  {  $('.Cmd#km_id#').empty().append('<span>'+_options.display_value+'</span>');  }
        }
		jeedom.cmd.update['#km_id#']({display_value:'#km#'});
		
		
		jeedom.cmd.update['#beRemainingRangeElectric_id#'] = function(_options) {
           	$('.Cmd#beRemainingRangeElectric_id#').empty().append('<span>'+' '+_options.display_value+' kms restants'+'</span>');
        }
		jeedom.cmd.update['#beRemainingRangeElectric_id#']({display_value:'#beRemainingRangeElectric#'});
		
		
		jeedom.cmd.update['#chargingLevelHv_id#'] = function(_options) {
           	$('.Cmd#chargingLevelHv_id#').empty().append('<span>'+' Batterie : '+_options.display_value+' %'+'</span>');
        }
		jeedom.cmd.update['#chargingLevelHv_id#']({display_value:'#chargingLevelHv#'});
		
		
		jeedom.cmd.update['#connectorStatus_id#'] = function(_options) {
           	if ( _options.display_value == "1" )  {			
				$('.Cmd#connectorStatus_id#').empty().append('<span> Prise : connectée</span>');
			}
			if ( _options.display_value == "0" || _options.display_value == "" )  {			
				$('.Cmd#connectorStatus_id#').empty().append('<span> Prise : deconnectée</span>');
			}
		}
		jeedom.cmd.update['#connectorStatus_id#']({display_value:'#connectorStatus#'});
		
		
		jeedom.cmd.update['#chargingStatus_id#'] = function(_options) {
           	$('.Cmd#chargingStatus_id#').empty().append('<span>'+' Charge : '+_options.display_value+'</span>');
        }
		jeedom.cmd.update['#chargingStatus_id#']({display_value:'#chargingStatus#'});
		
		
		jeedom.cmd.update['#kmfuel_id#'] = function(_options) {
           	$('.Cmd#kmfuel_id#').empty().append('<span>'+' '+_options.display_value+' kms restants'+'</span>');
        }
		jeedom.cmd.update['#kmfuel_id#']({display_value:'#kmfuel#'});
		
		
		jeedom.cmd.update['#kmfuel_id#'] = function(_options) {
           	$('.Cmd#kmfuel_id#').empty().append('<span>'+' Volume restant : '+_options.display_value+' L'+'</span>');
        }
		jeedom.cmd.update['#kmfuel_id#']({display_value:'#kmfuel#'});
		
		
		jeedom.cmd.update['#last_id#']({display_value:'#last#'});
      
	</script>

	<style>
	
	.fordcar_widget .container-fluid {
		margin-top: 10px;
	}

	.fordcar_widget hr {
		border-top: 1px solid;
		margin : 10px 10px 10px 10px;
	}

	.fordcar_widget #infos {
		margin-top: 10px;
		margin-bottom: 16px;
	}
	
	.fordcar_widget #engine {
		width: 450px;
		height: 130px;
		margin-top: 15px;
		margin-bottom: 15px;
	}
	
	.fordcar_widget #doors_windows {
		margin: 10px 10px 10px 10px;
	}
	
	.fordcar_widget #actions {
		margin-top: 10px;
		margin-bottom: 20px;
	}
	
	.fordcar_widget .btn {
		width: 40px !important;
		height: 40px !important;
		max-width: 40px !important;
		max-height: 40px !important;
	}
	
	.fordcar_widget #location {
		margin-top: 10px;
		margin-bottom: 15px;
	}
	
	.fordcar_widget #messages {
		margin : 10px 23px 10px 23px;
	}
	
	.fordcar_widget #liste_msg {
		width: 380px;
		height: 255px;
		overflow: auto;
	}
				
	</style>
	
</div>